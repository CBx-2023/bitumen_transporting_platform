# 沥青运输系统 API 文档使用指南

## 访问API文档

API文档已经配置完成，您可以通过以下URL访问：

- **Swagger UI**: http://127.0.0.1:8000/swagger/
  - 提供交互式API文档，可以直接在浏览器中测试API
  - 适合开发和测试阶段使用

- **ReDoc**: http://127.0.0.1:8000/redoc/
  - 提供更美观、易读的API文档
  - 适合分享给团队成员或客户

## 如何使用Swagger UI

1. 访问 http://127.0.0.1:8000/swagger/
2. 浏览可用的API端点，按功能模块分组
3. 点击任意端点查看详细信息
4. 使用"Try it out"按钮测试API:
   - 填写必要的参数
   - 点击"Execute"执行请求
   - 查看响应结果和状态码

## 如何使用API文档进行开发

1. **前端开发**:
   - 使用Swagger UI了解可用的API端点
   - 查看每个API的请求参数和响应格式
   - 使用"Try it out"功能测试API行为

2. **后端开发**:
   - 确保新添加的API有完整的文档
   - 使用文档作为API契约，确保实现符合文档规范
   - 在代码审查中检查API文档的完整性

3. **测试**:
   - 使用Swagger UI快速测试API功能
   - 验证API行为是否符合文档描述
   - 发现文档与实际行为的不一致

## 如何增强API文档

请参考项目根目录下的 `api_docs_guide.md` 文件，了解如何为API添加更详细的文档。

## 最佳实践

1. **保持文档更新**: 修改API时同步更新文档
2. **添加详细描述**: 为每个API添加清晰的描述和用例
3. **包含错误处理**: 文档中说明可能的错误情况和错误码
4. **提供示例**: 添加请求和响应的示例
5. **使用标签分组**: 将相关API归类到同一标签下

## 常见问题

1. **文档不显示最新API**
   - 确保服务器已重启
   - 检查API视图是否正确配置了路由

2. **无法在Swagger UI中测试API**
   - 检查CORS设置
   - 确认API权限配置正确

3. **文档中缺少某些字段**
   - 检查序列化器定义
   - 确保使用了正确的序列化器类

## 技术支持

如有任何问题，请联系技术团队或查阅以下资源：

- [drf-yasg 官方文档](https://drf-yasg.readthedocs.io/)
- [Django REST framework 文档](https://www.django-rest-framework.org/)
- 项目内部文档: `api_docs_guide.md`